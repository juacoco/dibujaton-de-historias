
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sketch Duel</title>
  <meta name="description" content="Juego de dibujo con 1 ronda y final con superposición de imagen." />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="app">
    <header class="topbar">
      <div class="brand">
        <span class="logo">✏️</span>
        <span id="gameTitle">Sketch Duel</span>
      </div>
      <div class="topRight">
        <div class="pill" id="statusPill">Menú</div>
        <button id="btnHome" class="ghost" type="button">Inicio</button>
      </div>
    </header>

    <!-- MENÚ -->
    <section id="screenMenu" class="screen show">
      <div class="grid2">
        <div>
          <h1 id="menuTitle">Sketch Duel</h1>
          <p class="muted" id="menuDesc">1 ronda de dibujo y un final con tu dibujo sobre mi ilustración.</p>

          <div class="card">
            <h2>Tu nombre (opcional)</h2>
            <div class="row">
              <input id="nameInput" class="input" maxlength="18" placeholder="Tu nombre" />
              <button id="btnSaveName" class="ghost" type="button">Guardar</button>
            </div>
            <p class="tiny muted">Si lo dejas vacío, se asigna uno automáticamente.</p>
          </div>

          <div class="card">
            <h2>Acceso (opcional)</h2>
            <p class="muted tiny">Si se activó un código, escríbelo aquí para iniciar.</p>
            <div class="row">
              <input id="codeInput" class="input" maxlength="24" placeholder="Código (si está activado)" />
              <button id="btnStart" class="primary" type="button">Jugar</button>
            </div>
           
          </div>

         
        </div>

        <div>
          <div class="card playersCard">
            <div class="playersHeader">
              <h2>Partida</h2>
              <span class="tiny muted" id="infoHint">1 ronda</span>
            </div>

            <div class="playersList">
              <div class="player">
                <div class="badge">
                  <span class="avatar" id="avatar">?</span>
                  <span id="playerName">Jugador</span>
                </div>
                <span class="status online">listo</span>
              </div>
            </div>

            <div class="divider"></div>
            <div class="row between tiny muted"><span>Rondas</span><span id="roundsHint">1</span></div>
            <div class="row between tiny muted"><span>Tiempo</span><span id="timeHint">60s</span></div>
          </div>

          <div class="card">
            <h2>Personalización rápida</h2>
            <ul class="muted">
              <li><b>Imagen guía (ronda)</b>: <code>GUIDE_SRC</code> en <code>app.js</code></li>
              <li><b>Imagen final (mi dibujo)</b>: <code>FINAL_BASE_SRC</code> en <code>app.js</code></li>
              <li><b>Frase final</b>: <code>CONFIG.finalText</code></li>
              <li><b>Código</b>: <code>CONFIG.accessCode</code></li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- JUEGO -->
    <section id="screenPlay" class="screen">
      <div class="hud">
        <div class="hudLeft">
          <div class="pill" id="roundPill">Ronda 1/1</div>
          <div class="timer" title="Tiempo restante">
            <span class="timerLabel">⏱</span>
            <span id="timerText">60</span><span class="tiny muted">s</span>
          </div>
        </div>

        <div class="hudCenter">
          <div class="prompt" id="promptText">Dibuja…</div>
          <div class="submuted tiny" id="subPrompt">Puedes presionar Listo antes de que acabe.</div>
        </div>

        <div class="hudRight">
          <label class="tool">
            Grosor
            <input id="brushSize" type="range" min="2" max="18" value="6" />
          </label>
          <button id="btnClear" class="ghost" type="button">Borrar</button>
          <button id="btnDone" class="primary" type="button">Listo</button>
        </div>
      </div>

      <div class="canvasWrap">
        <!-- ✅ Guía debajo + canvas transparente arriba -->
        <div class="stage">
          <img id="guideImg" class="guideImg" alt="Guía" />
          <canvas id="canvas" width="900" height="540" aria-label="Lienzo de dibujo"></canvas>
        </div>
      </div>

      <div class="miniBar">
        <div class="miniPlayers">
          <span class="miniChip" id="miniName">Jugador</span>
        </div>
        <div class="miniNote tiny muted" id="miniNote">Sigue la guía para colocar tu dibujo.</div>
      </div>
    </section>

    <!-- TRANSICIÓN -->
    <section id="screenLoading" class="screen">
      <div class="loader card">
        <div class="spinner" aria-hidden="true"></div>
        <h2 id="loadingTitle">Guardando…</h2>
        <p class="muted" id="loadingSub">Un momento :)</p>
      </div>
    </section>

    <!-- FINAL -->
    <section id="screenFinal" class="screen">
      <div class="card finalCard">
        <div class="finalHeader">
          <div>
            <h2 id="finalTitle">Final</h2>
            <p class="muted" id="finalDesc">Así quedó:</p>
          </div>
          <div class="actions">
            <button id="btnPlayAgain" class="ghost" type="button">Jugar otra vez</button>
            <a id="btnDownloadStory" class="primary" href="#" download="resultado.png">Descargar resultado</a>
          </div>
        </div>



        <div class="storyGrid" id="storyGrid"></div>

        <div class="divider"></div>
        <h2 class="bigAsk" id="finalText">¿Quieres ser mi San Valentín?</h2>
        <p class="tiny muted">Tip: puedes descargar el resultado como una sola imagen.</p>
      </div>
    </section>

  </main>

  <script src="app.js"></script>
</body>
</html>
